# Default values for piston chart
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCountApi: 2

# environment variables for each component (map of name:value)
env:
  api: {}
  repo: {}

image:
  repositoryApi: "ghcr.io/michaelahli/piston-api"
  repositoryRepo: "ghcr.io/michaelahli/piston-repo"
  pullPolicy: IfNotPresent
  tag: "v0.1.1"

service:
  api:
    port: 2000
    targetPort: 2000
    type: ClusterIP
  repo:
    port: 8000
    targetPort: 8000
    type: ClusterIP

persistence:
  enabled: true
  storageClass: ""
  accessMode: ReadWriteOnce
  sizeApi: 50Gi
  sizeRepo: 50Gi

resources:
  api: {}
  repo: {}

# security settings
security:
  privileged: true # whether containers run privileged (needed for isolate/cgroup)
  hostPID: true # share host PID namespace (required for cgroup modifications)

nodeSelector: {}
tolerations: []
affinity: {}
